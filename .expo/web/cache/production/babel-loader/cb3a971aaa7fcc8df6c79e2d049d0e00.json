{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useLayoutEffect,useState}from\"react\";import FlatList from\"react-native-web/dist/exports/FlatList\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import Pressable from\"react-native-web/dist/exports/Pressable\";import styles from\"./styles\";import MenuImage from\"../../components/MenuImage/MenuImage\";import{getCategoryName,getRecipesByRecipeName,getRecipesByCategoryName,getRecipesByIngredientName}from\"../../data/MockDataAPI\";import{TextInput}from\"react-native-gesture-handler\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchScreen(props){var navigation=props.navigation;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];useLayoutEffect(function(){navigation.setOptions({headerLeft:function headerLeft(){return _jsx(MenuImage,{onPress:function onPress(){navigation.openDrawer();}});},headerTitle:function headerTitle(){return _jsxs(View,{style:styles.searchContainer,children:[_jsx(Image,{style:styles.searchIcon,source:require(\"../../../assets/icons/search.png\")}),_jsx(TextInput,{style:styles.searchInput,onChangeText:handleSearch,value:value}),_jsx(Pressable,{onPress:function onPress(){return handleSearch(\"\");},children:_jsx(Image,{style:styles.searchIcon,source:require(\"../../../assets/icons/close.png\")})})]});},headerRight:function headerRight(){return _jsx(View,{});}});},[value]);useEffect(function(){},[value]);var handleSearch=function handleSearch(text){setValue(text);var recipeArray1=getRecipesByRecipeName(text);var recipeArray2=getRecipesByCategoryName(text);var recipeArray3=getRecipesByIngredientName(text);var aux=recipeArray1.concat(recipeArray2);var recipeArray=_toConsumableArray(new Set(aux));if(text==\"\"){setData([]);}else{setData(recipeArray);}};var onPressRecipe=function onPressRecipe(item){navigation.navigate(\"Recipe\",{item:item});};var renderRecipes=function renderRecipes(_ref){var item=_ref.item;return _jsx(TouchableHighlight,{underlayColor:\"rgba(73,182,77,0.9)\",onPress:function onPress(){return onPressRecipe(item);},children:_jsxs(View,{style:styles.container,children:[_jsx(Image,{style:styles.photo,source:{uri:item.photo_url}}),_jsx(Text,{style:styles.title,children:item.title}),_jsx(Text,{style:styles.category,children:getCategoryName(item.categoryId)})]})});};return _jsx(View,{children:_jsx(FlatList,{vertical:true,showsVerticalScrollIndicator:false,numColumns:2,data:data,renderItem:renderRecipes,keyExtractor:function keyExtractor(item){return\"\"+item.recipeId;}})});}","map":{"version":3,"names":["React","useEffect","useLayoutEffect","useState","styles","MenuImage","getCategoryName","getRecipesByRecipeName","getRecipesByCategoryName","getRecipesByIngredientName","TextInput","SearchScreen","props","navigation","value","setValue","data","setData","setOptions","headerLeft","openDrawer","headerTitle","searchContainer","searchIcon","require","searchInput","handleSearch","headerRight","text","recipeArray1","recipeArray2","recipeArray3","aux","concat","recipeArray","Set","onPressRecipe","item","navigate","renderRecipes","container","photo","uri","photo_url","title","category","categoryId","recipeId"],"sources":["F:/kimisagara/official/recipes-app-react-native/src/screens/Search/SearchScreen.js"],"sourcesContent":["import React, { useEffect, useLayoutEffect, useState } from \"react\";\r\nimport { FlatList, Text, View, Image, TouchableHighlight, Pressable } from \"react-native\";\r\nimport styles from \"./styles\";\r\nimport MenuImage from \"../../components/MenuImage/MenuImage\";\r\nimport { getCategoryName, getRecipesByRecipeName, getRecipesByCategoryName, getRecipesByIngredientName } from \"../../data/MockDataAPI\";\r\nimport { TextInput } from \"react-native-gesture-handler\";\r\n\r\nexport default function SearchScreen(props) {\r\n  const { navigation } = props;\r\n\r\n  const [value, setValue] = useState(\"\");\r\n  const [data, setData] = useState([]);\r\n\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerLeft: () => (\r\n        <MenuImage\r\n          onPress={() => {\r\n            navigation.openDrawer();\r\n          }}\r\n        />\r\n      ),\r\n      headerTitle: () => (\r\n        <View style={styles.searchContainer}>\r\n          <Image style={styles.searchIcon} source={require(\"../../../assets/icons/search.png\")} />\r\n          <TextInput\r\n            style={styles.searchInput}\r\n            onChangeText={handleSearch}\r\n            value={value}\r\n          />\r\n          <Pressable onPress={() => handleSearch(\"\")}>\r\n          <Image style={styles.searchIcon} source={require(\"../../../assets/icons/close.png\")} />\r\n          </Pressable>\r\n        </View>\r\n      ),\r\n      headerRight: () => <View />,\r\n    });\r\n  }, [value]);\r\n\r\n  useEffect(() => {}, [value]);\r\n\r\n  const handleSearch = (text) => {\r\n    setValue(text);\r\n    var recipeArray1 = getRecipesByRecipeName(text);\r\n    var recipeArray2 = getRecipesByCategoryName(text);\r\n    var recipeArray3 = getRecipesByIngredientName(text);\r\n    var aux = recipeArray1.concat(recipeArray2);\r\n    var recipeArray = [...new Set(aux)];\r\n\r\n    if (text == \"\") {\r\n      setData([]);\r\n    } else {\r\n      setData(recipeArray);\r\n    }\r\n  };\r\n\r\n  const onPressRecipe = (item) => {\r\n    navigation.navigate(\"Recipe\", { item });\r\n  };\r\n\r\n  const renderRecipes = ({ item }) => (\r\n    <TouchableHighlight underlayColor=\"rgba(73,182,77,0.9)\" onPress={() => onPressRecipe(item)}>\r\n      <View style={styles.container}>\r\n        <Image style={styles.photo} source={{ uri: item.photo_url }} />\r\n        <Text style={styles.title}>{item.title}</Text>\r\n        <Text style={styles.category}>{getCategoryName(item.categoryId)}</Text>\r\n      </View>\r\n    </TouchableHighlight>\r\n  );\r\n\r\n  return (\r\n    <View>\r\n      <FlatList vertical showsVerticalScrollIndicator={false} numColumns={2} data={data} renderItem={renderRecipes} keyExtractor={(item) => `${item.recipeId}`} />\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}