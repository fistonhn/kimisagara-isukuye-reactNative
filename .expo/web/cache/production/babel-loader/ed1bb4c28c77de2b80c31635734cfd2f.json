{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useLayoutEffect,useRef,useState}from\"react\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import styles from\"./styles\";import Carousel,{Pagination}from\"react-native-snap-carousel\";import{getIngredientName,getCategoryName,getCategoryById}from\"../../data/MockDataAPI\";import BackButton from\"../../components/BackButton/BackButton\";import ViewIngredientsButton from\"../../components/ViewIngredientsButton/ViewIngredientsButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _Dimensions$get=Dimensions.get(\"window\"),viewportWidth=_Dimensions$get.width;export default function RecipeScreen(props){var _route$params;var navigation=props.navigation,route=props.route;var item=(_route$params=route.params)==null?void 0:_route$params.item;var category=getCategoryById(item.categoryId);var title=getCategoryName(category.id);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeSlide=_useState2[0],setActiveSlide=_useState2[1];var slider1Ref=useRef();useLayoutEffect(function(){navigation.setOptions({headerTransparent:\"true\",headerLeft:function headerLeft(){return _jsx(BackButton,{onPress:function onPress(){navigation.goBack();}});},headerRight:function headerRight(){return _jsx(View,{});}});},[]);var renderImage=function renderImage(_ref){var item=_ref.item;return _jsx(TouchableHighlight,{children:_jsx(View,{style:styles.imageContainer,children:_jsx(Image,{style:styles.image,source:{uri:item}})})});};var onPressIngredient=function onPressIngredient(item){var name=getIngredientName(item);var ingredient=item;navigation.navigate(\"Ingredient\",{ingredient:ingredient,name:name});};return _jsxs(ScrollView,{style:styles.container,children:[_jsx(View,{style:styles.carouselContainer,children:_jsxs(View,{style:styles.carousel,children:[_jsx(Carousel,{ref:slider1Ref,data:item.photosArray,renderItem:renderImage,sliderWidth:viewportWidth,itemWidth:viewportWidth,inactiveSlideScale:1,inactiveSlideOpacity:1,firstItem:0,loop:false,autoplay:false,autoplayDelay:500,autoplayInterval:3000,onSnapToItem:function onSnapToItem(index){return setActiveSlide(0);}}),_jsx(Pagination,{dotsLength:item.photosArray.length,activeDotIndex:activeSlide,containerStyle:styles.paginationContainer,dotColor:\"rgba(255, 255, 255, 0.92)\",dotStyle:styles.paginationDot,inactiveDotColor:\"white\",inactiveDotOpacity:0.4,inactiveDotScale:0.6,carouselRef:slider1Ref.current,tappableDots:!!slider1Ref.current})]})}),_jsxs(View,{style:styles.infoRecipeContainer,children:[_jsx(Text,{style:styles.infoRecipeName,children:item.title}),_jsx(View,{style:styles.infoContainer,children:_jsx(TouchableHighlight,{onPress:function onPress(){return navigation.navigate(\"RecipesList\",{category:category,title:title});},children:_jsx(Text,{style:styles.category,children:getCategoryName(item.categoryId).toUpperCase()})})}),_jsxs(View,{style:styles.infoContainer,children:[_jsx(Image,{style:styles.infoPhoto,source:require(\"../../../assets/icons/time.png\")}),_jsxs(Text,{style:styles.infoRecipe,children:[item.time,\" minutes \"]})]}),_jsx(View,{style:styles.infoContainer,children:_jsx(ViewIngredientsButton,{onPress:function onPress(){var ingredients=item.ingredients;var title=\"Ingredients for \"+item.title;navigation.navigate(\"IngredientsDetails\",{ingredients:ingredients,title:title});}})}),_jsx(View,{style:styles.infoContainer,children:_jsx(Text,{style:styles.infoDescriptionRecipe,children:item.description})})]})]});}","map":{"version":3,"names":["React","useLayoutEffect","useRef","useState","styles","Carousel","Pagination","getIngredientName","getCategoryName","getCategoryById","BackButton","ViewIngredientsButton","Dimensions","get","viewportWidth","width","RecipeScreen","props","navigation","route","item","params","category","categoryId","title","id","activeSlide","setActiveSlide","slider1Ref","setOptions","headerTransparent","headerLeft","goBack","headerRight","renderImage","imageContainer","image","uri","onPressIngredient","name","ingredient","navigate","container","carouselContainer","carousel","photosArray","index","length","paginationContainer","paginationDot","current","infoRecipeContainer","infoRecipeName","infoContainer","toUpperCase","infoPhoto","require","infoRecipe","time","ingredients","infoDescriptionRecipe","description"],"sources":["F:/kimisagara/official/recipes-app-react-native/src/screens/Recipe/RecipeScreen.js"],"sourcesContent":["import React, { useLayoutEffect, useRef, useState } from \"react\";\r\nimport {\r\n  ScrollView,\r\n  Text,\r\n  View,\r\n  Image,\r\n  Dimensions,\r\n  TouchableHighlight,\r\n} from \"react-native\";\r\nimport styles from \"./styles\";\r\nimport Carousel, { Pagination } from \"react-native-snap-carousel\";\r\nimport {\r\n  getIngredientName,\r\n  getCategoryName,\r\n  getCategoryById,\r\n} from \"../../data/MockDataAPI\";\r\nimport BackButton from \"../../components/BackButton/BackButton\";\r\nimport ViewIngredientsButton from \"../../components/ViewIngredientsButton/ViewIngredientsButton\";\r\n\r\nconst { width: viewportWidth } = Dimensions.get(\"window\");\r\n\r\nexport default function RecipeScreen(props) {\r\n  const { navigation, route } = props;\r\n\r\n  const item = route.params?.item;\r\n  const category = getCategoryById(item.categoryId);\r\n  const title = getCategoryName(category.id);\r\n\r\n  const [activeSlide, setActiveSlide] = useState(0);\r\n\r\n  const slider1Ref = useRef();\r\n\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerTransparent: \"true\",\r\n      headerLeft: () => (\r\n        <BackButton\r\n          onPress={() => {\r\n            navigation.goBack();\r\n          }}\r\n        />\r\n      ),\r\n      headerRight: () => <View />,\r\n    });\r\n  }, []);\r\n\r\n  const renderImage = ({ item }) => (\r\n    <TouchableHighlight>\r\n      <View style={styles.imageContainer}>\r\n        <Image style={styles.image} source={{ uri: item }} />\r\n      </View>\r\n    </TouchableHighlight>\r\n  );\r\n\r\n  const onPressIngredient = (item) => {\r\n    var name = getIngredientName(item);\r\n    let ingredient = item;\r\n    navigation.navigate(\"Ingredient\", { ingredient, name });\r\n  };\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <View style={styles.carouselContainer}>\r\n        <View style={styles.carousel}>\r\n          <Carousel\r\n            ref={slider1Ref}\r\n            data={item.photosArray}\r\n            renderItem={renderImage}\r\n            sliderWidth={viewportWidth}\r\n            itemWidth={viewportWidth}\r\n            inactiveSlideScale={1}\r\n            inactiveSlideOpacity={1}\r\n            firstItem={0}\r\n            loop={false}\r\n            autoplay={false}\r\n            autoplayDelay={500}\r\n            autoplayInterval={3000}\r\n            onSnapToItem={(index) => setActiveSlide(0)}\r\n          />\r\n          <Pagination\r\n            dotsLength={item.photosArray.length}\r\n            activeDotIndex={activeSlide}\r\n            containerStyle={styles.paginationContainer}\r\n            dotColor=\"rgba(255, 255, 255, 0.92)\"\r\n            dotStyle={styles.paginationDot}\r\n            inactiveDotColor=\"white\"\r\n            inactiveDotOpacity={0.4}\r\n            inactiveDotScale={0.6}\r\n            carouselRef={slider1Ref.current}\r\n            tappableDots={!!slider1Ref.current}\r\n          />\r\n        </View>\r\n      </View>\r\n      <View style={styles.infoRecipeContainer}>\r\n        <Text style={styles.infoRecipeName}>{item.title}</Text>\r\n        <View style={styles.infoContainer}>\r\n          <TouchableHighlight\r\n            onPress={() =>\r\n              navigation.navigate(\"RecipesList\", { category, title })\r\n            }\r\n          >\r\n            <Text style={styles.category}>\r\n              {getCategoryName(item.categoryId).toUpperCase()}\r\n            </Text>\r\n          </TouchableHighlight>\r\n        </View>\r\n\r\n        <View style={styles.infoContainer}>\r\n          <Image\r\n            style={styles.infoPhoto}\r\n            source={require(\"../../../assets/icons/time.png\")}\r\n          />\r\n          <Text style={styles.infoRecipe}>{item.time} minutes </Text>\r\n        </View>\r\n\r\n        <View style={styles.infoContainer}>\r\n          <ViewIngredientsButton\r\n            onPress={() => {\r\n              let ingredients = item.ingredients;\r\n              let title = \"Ingredients for \" + item.title;\r\n              navigation.navigate(\"IngredientsDetails\", { ingredients, title });\r\n            }}\r\n          />\r\n        </View>\r\n        <View style={styles.infoContainer}>\r\n          <Text style={styles.infoDescriptionRecipe}>{item.description}</Text>\r\n        </View>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}